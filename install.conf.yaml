# Clear old symlinks in the home and bin directories
- clean: [ '~', '~/bin' ]

# Always create directories
- defaults:
    link:
      create: true
      relink: true
    shell:
      stdin: true
      stdout: true
      stderr: true

- link:
    # Create a symlink to this folder
    ~/.dotfiles: ''
    ~/.vim: vim
    ~/.vimrc: vimrc
    ~/.bashrc: bashrc
    ~/.profile: profile
    ~/.Xresources: Xresources
    ~/.Xresources.local: local/Xresources.local
    ~/.dircolors: dircolors
    ~/.gitconfig: gitconfig
    ~/.gitconfig.local: local/gitconfig.local
    ~/.inputrc: inputrc
    ~/.config/rofi/config: rofi
    ~/.config/termite/config: termite
    ~/.config/yamllint/config: yamllint
    # Add scripts to the ~/bin/ directory
    ~/bin/detect_utf: bin/detect-utf.sh
    ~/bin/outside-ip: bin/outside-ip.sh
    ~/bin/git-clean-merged: bin/git-clean-merged.sh
    # Add local fonts
    ~/.local/share/fonts/Knack: fonts/Knack

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [git update-index --skip-worktree local/*, Untracking local files in Git]
    - description: Installing vim plugins via vim-plug
      command: vim +PlugInstall +qall
    - description: Installing Python packages via Pip
      command: pip install --user -r ./pip_requirements.txt
    - description: Installing Ruby gems via RubyGems
      command: gem install --file ./Gemfile
    - description: Installing packages via Homebrew
      command: ./setup/homebrew-setup
